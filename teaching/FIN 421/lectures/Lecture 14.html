<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Mihai Ion - L14: Bond pricing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Mihai Ion</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../research.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../CV/Mihai Ion CV.pdf" rel="" target="">
 <span class="menu-text">CV</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#bond-pricing-review" id="toc-bond-pricing-review" class="nav-link active" data-scroll-target="#bond-pricing-review"></a><a id="toc1_" class="nav-link" data-scroll-target="undefined"></a>Bond pricing review
  <ul class="collapse">
  <li><a href="#when-bond-pays-coupons-more-than-once-a-year" id="toc-when-bond-pays-coupons-more-than-once-a-year" class="nav-link" data-scroll-target="#when-bond-pays-coupons-more-than-once-a-year"></a><a id="toc1_1_" class="nav-link" data-scroll-target="undefined"></a>When bond pays coupons more than once a year</li>
  <li><a href="#non-coupon-paying-days" id="toc-non-coupon-paying-days" class="nav-link" data-scroll-target="#non-coupon-paying-days"></a><a id="toc1_2_" class="nav-link" data-scroll-target="undefined"></a>Non coupon-paying days</li>
  </ul></li>
  <li><a href="#pricing-bonds-on-coupon-days" id="toc-pricing-bonds-on-coupon-days" class="nav-link" data-scroll-target="#pricing-bonds-on-coupon-days"></a><a id="toc2_" class="nav-link" data-scroll-target="undefined"></a>Pricing bonds on coupon days</li>
  <li><a href="#pricing-bonds-on-non-coupon-days" id="toc-pricing-bonds-on-non-coupon-days" class="nav-link" data-scroll-target="#pricing-bonds-on-non-coupon-days"></a><a id="toc3_" class="nav-link" data-scroll-target="undefined"></a>Pricing bonds on non-coupon days
  <ul class="collapse">
  <li><a href="#day-counting-conventions" id="toc-day-counting-conventions" class="nav-link" data-scroll-target="#day-counting-conventions"></a><a id="toc3_1_" class="nav-link" data-scroll-target="undefined"></a>Day-counting conventions</li>
  <li><a href="#clean-flat-vs-dirty-invoice-prices" id="toc-clean-flat-vs-dirty-invoice-prices" class="nav-link" data-scroll-target="#clean-flat-vs-dirty-invoice-prices"></a><a id="toc3_2_" class="nav-link" data-scroll-target="undefined"></a>Clean (flat) vs dirty (invoice) prices</li>
  </ul></li>
  <li><a href="#evolution-of-bond-prices-over-time" id="toc-evolution-of-bond-prices-over-time" class="nav-link" data-scroll-target="#evolution-of-bond-prices-over-time"></a><a id="toc4_" class="nav-link" data-scroll-target="undefined"></a>Evolution of bond prices over time</li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">L14: Bond pricing</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="bond-pricing-review" class="level1">
<h1><a id="toc1_"></a><a href="#toc0_">Bond pricing review</a></h1>
<p>Bond prices are calculated using the same general approach as the prices of any financial asset: they equal the discounted value of their future cash flows.</p>
<p><span class="math display">\[P_t = \frac{C}{1+YTM} + \frac{C}{(1+YTM)^2} + ... + \frac{C + Par}{(1+YTM)^T} \]</span></p>
<p>where - <span class="math inline">\(P_t\)</span> is the price of the bond at time <span class="math inline">\(t\)</span> - <span class="math inline">\(C\)</span> is the coupon payment of the bond - <span class="math inline">\(Par\)</span> is the par value of the bond (also known as it face value) - <span class="math inline">\(T\)</span> is the number of years left until maturity of the bond - <span class="math inline">\(YTM\)</span> is the yield to maturity of the bond (often simply called the yield of the bond)</p>
<p>For bonds that do not pay coupons (also known as <strong>zero-coupon bonds</strong> or “zeros”), the formula becomes</p>
<p><span class="math display">\[P_t = \frac{Par}{(1+YTM)^T} \]</span></p>
<section id="when-bond-pays-coupons-more-than-once-a-year" class="level2">
<h2 class="anchored" data-anchor-id="when-bond-pays-coupons-more-than-once-a-year"><a id="toc1_1_"></a><a href="#toc0_">When bond pays coupons more than once a year</a></h2>
<p>The formula above is only correct if the bond has a single coupon payment per year. If the bond pays “F” coupons per year (e.g.&nbsp;F = 2 for bond with semi-annual coupon payments) then the formula above becomes:</p>
<p><span class="math display">\[P_t = \frac{C/F}{1+YTM/F} + \frac{C/F}{(1+YTM/F)^2} + ... + \frac{C/F + Par}{(1+YTM/F)^{T \cdot F}} \]</span></p>
</section>
<section id="non-coupon-paying-days" class="level2">
<h2 class="anchored" data-anchor-id="non-coupon-paying-days"><a id="toc1_2_"></a><a href="#toc0_">Non coupon-paying days</a></h2>
<p>The formula above is only valid on coupon-paying days (i.e.&nbsp;<span class="math inline">\(t\)</span> is immediately after a coupon is paid) or when the bond is issued. On any other day, we need to adjust the price for something called “accrued interest”. We cover this at the end of this lecture.</p>
</section>
</section>
<section id="pricing-bonds-on-coupon-days" class="level1">
<h1><a id="toc2_"></a><a href="#toc0_">Pricing bonds on coupon days</a></h1>
<p>The “PRICE” function in Excel allows us to calculate bond prices. It has the following parameters:</p>
<ul>
<li>Settlement date = Date as of which you are pricing the bond</li>
<li>Maturity date</li>
<li>Annual coupon rate (decimal, e.g.&nbsp;6% should be put in as 0.06)</li>
<li>Yield to maturity</li>
<li>Redemption value (% of face value, usually 100)</li>
<li>Coupon payments per year (frequency)</li>
</ul>
<p>To price bonds on coupon-paying days, use an arbitrary settlement day if none is given (Jan 1st 2000 is convenient) and add the bond’s maturity to the settlement date to get the “Maturity date”</p>
<p><strong>Example 1:</strong></p>
<p>Assume today is July 31, 2012. Bond A matures on July 31, 2018, has par value of $1000, pays coupons semiannually, and has a coupon rate of 6%. You know that it has a yield to maturity of 2%. What is the price of Bond A today?</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Example 2:</strong></p>
<p>Bond A matures in 30 years, and pays coupons annually. It has a coupon rate of 8%, a yield of 10%, and a par value of $100. What is the price of the bond today?</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pricing-bonds-on-non-coupon-days" class="level1">
<h1><a id="toc3_"></a><a href="#toc0_">Pricing bonds on non-coupon days</a></h1>
<p>On non-coupon paying days, the bond pricing formula above fails because the distance to future payments can not be represented as a whole number anymore. The price is still the discounted value of future payments. For example, for a bond paying coupons annually, the price on any given day <span class="math inline">\(t_0\)</span> would be given by:</p>
<p><span class="math display">\[P_{t_0} = \frac{C}{(1+YTM)^{t_1}} + \frac{C}{(1+YTM)^{t_2}} + ... + \frac{C + Par}{(1+YTM)^{t_N}} \]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(t_0\)</span> is the time when the bond is being priced</li>
<li><span class="math inline">\(t_1\)</span> is the amount of time between <span class="math inline">\(t_0\)</span> and the first coupon payment</li>
<li><span class="math inline">\(t_2\)</span> is the amount of time between <span class="math inline">\(t_0\)</span> and the second coupon payment</li>
</ul>
<p>… - <span class="math inline">\(t_N\)</span> is the amount of time between <span class="math inline">\(t_0\)</span> and the last coupon payment</p>
<section id="day-counting-conventions" class="level2">
<h2 class="anchored" data-anchor-id="day-counting-conventions"><a id="toc3_1_"></a><a href="#toc0_">Day-counting conventions</a></h2>
<p>A crucial question is: how should <span class="math inline">\(t_1\)</span>, <span class="math inline">\(t_2\)</span>,…,<span class="math inline">\(t_N\)</span> be calculated. The answer to this question can be different from bond to bond, depending on the day-counting convention used for that type of bond. The most common conventions are:</p>
<ul>
<li>30/360 (assumes all months have 30 days and all years have 360 days)
<ul>
<li>most common for corporate bonds, municipal bonds and mortgage-backed securities</li>
</ul></li>
<li>Actual/Actual (uses the actual number of days between dates, and the actual number of days in the year)
<ul>
<li>most common for Treasury Bonds</li>
</ul></li>
<li>Actual/360 (uses the actual number of days between dates, but assumes all years have 360 days)
<ul>
<li>most common for short-term securities like commercial paper and T-bills</li>
</ul></li>
</ul>
</section>
<section id="clean-flat-vs-dirty-invoice-prices" class="level2">
<h2 class="anchored" data-anchor-id="clean-flat-vs-dirty-invoice-prices"><a id="toc3_2_"></a><a href="#toc0_">Clean (flat) vs dirty (invoice) prices</a></h2>
<p>The price given by the formula above is called the <strong>dirty price</strong> or <strong>invoice price</strong> of the bond. This is the price you actually have to pay if you buy the bond at <span class="math inline">\(t_0\)</span>.</p>
<p>The price that is quoted for the bond is called the <strong>clean price</strong> or <strong>flat price</strong> of the bond. This price differs from the dirty price by the amount of <strong>accrued interest</strong> of the bond since the last coupon payment.</p>
<p><span class="math display">\[Dirty Price = Clean Price + Accrued Interest\]</span></p>
<p>Where <span class="math display">\[AccruedInterest = \frac{\text{Days since last coupon was paid}}{\text{Total days in the current coupon period}} Coupon Payment\]</span></p>
<p>It is also important to remember that, bond prices are quoted as percentage of par. So a bond with par value of $1000 and a price of 103, actually has a clean price of $1030. <em>When I do not specify the par value, assume that it is $1000</em>.</p>
<p><strong>Example 3:</strong></p>
<p>Bond A was issued on May 15, 2000 and it matures in May 15, 2030. Coupons are paid semi-annualy, the coupon rate is 6%, and the yield to maturity is 2%. What was the invoice (dirty) price on July 31, 2012? Assume days are counted using the “Actual/Actual” convention.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Example 4:</strong></p>
<p>It is January 1st, 2000. Bond A matures on March 1st, 2000. Coupons are paid quarterly, the coupon rate is 4%, and the yield to maturity is 4%. What was the invoice (dirty) price today in dollars? Assume the days are counted using the “30/360” convention.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="evolution-of-bond-prices-over-time" class="level1">
<h1><a id="toc4_"></a><a href="#toc0_">Evolution of bond prices over time</a></h1>
<p><strong>Discount bonds</strong> are bonds with a price lower than their par value. These are bonds where the yield to maturity is higher than the coupon rate (example 5 below). The price of these bonds increases over the lifetime of the bond until they reach par value at maturity (this process is called <strong>“pull to par”</strong>). This assumes that the YTM does not change during this time.</p>
<p><strong>Premium bonds</strong> are bonds with a price higher than their par value. These are bonds where the YTM is lower than the coupon rate (example 6 below). Again, due to “pull to par”, the price of these bonds decreases over time until it reaches par value at maturity.</p>
<p><strong>Par bonds</strong> are bonds that trade at a price equal to their par value. The YTM of par bonds is equal to their coupon rate (example 7 below).</p>
<p>It is important to remember that the increase and decrease in bond prices caused by pull to par does not mean that these bonds have become more or less attractive over time. Nothing about these bonds changes other than time to maturity.</p>
<p>The <strong>PV</strong> function in Excel also lets you price bonds on coupon paying days. It has the following parameters:</p>
<ul>
<li>rate = interest rate per compounding period (YTM divided by number of coupons per year)</li>
<li>nper = number of compounding periods left (years to maturity times number of coupons per year)</li>
<li>pmt = coupon per compounding period (par value times annual coupon rate divided by number of coupons per year). Put a negative sign in front of it to express that it is an outflow.</li>
</ul>
<p><strong>Example 5:</strong></p>
<p>Bond A matures in 10 years and pays coupons semi-annually. It has a coupon rate of 8%, a yield of 10%, a face value of $100. Calculate the price of the bond today, and on each coupon paying day until the bond matures (the PV function will be easier to use for this purpose). Plot these prices over time.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Example 6:</strong></p>
<p>Same data as in Example 5, only this time, assume YTM is 6%.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Example 7:</strong></p>
<p>Same data as in Example 5, only this time, assume YTM is 8%.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp("https:\/\/github\.com\/ionmihai\/ionmihai\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->



</body></html>