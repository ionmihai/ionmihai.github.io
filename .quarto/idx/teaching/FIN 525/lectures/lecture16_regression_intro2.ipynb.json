{"title":"L16: Linear regression applications","markdown":{"yaml":{"title":"L16: Linear regression applications"},"headingText":"Preliminaries","containsRefs":false,"markdown":"\n\n\nLoad data on TSLA and clean it:\n\n**Challenge**:\n\nEstimate the Fama-French three factor model using the data gathered above\n\n# Common uses for regression results\n\nAssume that we ran a regression of the form:\n\n\n$$y_t = \\alpha + \\beta \\cdot x_t + \\epsilon_t $$\n\nIn the CAPM regression we ran above, $y_t$ is the excess return on TSLA and $x_t$ is the excess return on the market:\n\n$$R_{i,t} - R_{f,t} = \\alpha_i + \\beta_i (R_{m,t} - R_{f,t}) + \\epsilon_{i,t}$$\n\n\n## Conditional predictions\n\nWe can use the results of our regression to estimate what we should expect the value of the dependent variable to be, if we knew the value of the independent variable(s). Mathematically, this is given by:\n\n$$ E[y_t | x_t] = \\alpha + \\beta \\cdot x_t $$\n\n**Example**:\n\nUsing the results from the single-factor regression above, what is the expected excess return of TSLA if the market excess return is 2%? \n\n**Challenge**:\n\nUsing the results from the three-factor regression above, what is the expected excess return of TSLA if the market excess return is 2%, the SMB return -1% and the HML return is 0.5%? \n\n## Unconditional predictions\n\nWe can use the results of our regression to estimate what we should expect the value of the dependent variable to be, using our best guess for the value of the independent variable(s). Mathematically, this is given by:\n\n$$ E[y_t] = \\alpha + \\beta \\cdot E[x_t] $$\n\n**Example**:\n\nUsing the results from the regression above, what is the expected excess return of TSLA (i.e the risk premium on TSLA)? To answer this question, we must first estimate $E[R_m - R_f]$ (i.e. the market risk premium). We do so by taking an average of the excess returns on the market over a very long time (below we use the last 90 years). \n\n**Challenge**:\n\nEstimate the risk-premium of TSLA using the three-factor model, and risk-premia estimated using the last 90 years of data.\n\n## Variance decomposition\n\nThe regression results can allow us to decompose the total variance of the dependent variable into the portion that can be explained by the variance in the explanatory variables and the portion that can not be explained by these variables. Mathematically, the regression equation implies:\n\n$$ Var[Y] = \\beta^2 \\cdot Var[X] + Var[\\epsilon] $$\n\n**Example**:\n\nUsing the results from the regression above, calculate the total variance of TSLA, as well as its systematic variance and its idiosyncratic variance.\n\n**Challenge**:\n\nUsing the Fama-French three factor model, what percentage of TSLA total risk is diversifiable and what percentage is undiversifiable?\n\n# Interaction effects between explanatory variables\n\nIn some circumstances, we might want our linear regression model to allow the relation between two variables to depend on a third variable:\n\n$$ Y_t = \\alpha + (\\beta + \\gamma \\cdot Z_t) \\cdot X_t + \\delta \\cdot Z_t + \\epsilon_t $$\n\nNote that the effect of X on Y (i.e. $\\beta + \\gamma \\cdot Z_t$) depends on the value of a third variable ($Z_t$).\n\nThe regression above is often written (equivalently) as:\n\n\n$$ Y_t = \\alpha + \\beta  \\cdot X_t + \\gamma \\cdot Z_t \\cdot X_t + \\delta \\cdot Z_t + \\epsilon_t $$\n\nwhere the $Z_t \\cdot X_t$ term is called the **interaction** between the X and Z variables. This interaction term needs to be constructed in the data before we run our regression (by taking the product of X and Z). \n\n**Dummy variables** (or \"indicator\" variables) are variables that take only the values 0 or 1. They are often used in interaction terms (as the $Z$ variable above) to test if the relation between the main variables of interest (Y and X) is significantly different when some particular condition is satisfied (i.e. Z will equal 1 when the condition is satisfied and 0 when it is not).\n\n**Example**:\n\nUsing the same data as in the regressions above, test if: \n1. TSLA's alpha is significantly different before 2015 than after 2015. \n2. TSLA's beta is significantly different before 2015 than after 2015. \n\nIn this example, the $Z_t$ variable will have a value of 0 before 2015 and a value of 1 after 2015. So, before 2015, the equation above becomes \n\n$$ Y_t = \\alpha + \\beta  \\cdot X_t  + \\epsilon_t $$\n\nand after 2015, it becomes \n\n$$ Y_t = \\alpha + \\delta +  (\\beta + \\gamma) X_t +  \\epsilon_t $$\n\nHence, $\\delta$ tells us the difference between the firm's alpha after 2015 and its alpha before 2015. And $\\gamma$ tells us the difference between the firm's beta after 2015 and its beta before 2015.\n\n# Non-linear explanatory variables\n\nIn some circumstances we might want to test if there is a significant non-linear relationship between two variables of interest. For example, to test for a quadratic relation between Y and X, we can run the following regression:\n\n$$ Y_t = \\alpha + \\beta \\cdot X_t + \\gamma \\cdot X_t^2 + \\epsilon_t$$\n\nThe $X^2$ variable needs to be created ahead of time in the data, before we run the regression. \n\n**Example**:\n\nUsing the market model above, test if there is a significant quadratic relation between TSLA excess returns and market excess returns.\n","srcMarkdownNoYaml":"\n\n# Preliminaries\n\nLoad data on TSLA and clean it:\n\n**Challenge**:\n\nEstimate the Fama-French three factor model using the data gathered above\n\n# Common uses for regression results\n\nAssume that we ran a regression of the form:\n\n\n$$y_t = \\alpha + \\beta \\cdot x_t + \\epsilon_t $$\n\nIn the CAPM regression we ran above, $y_t$ is the excess return on TSLA and $x_t$ is the excess return on the market:\n\n$$R_{i,t} - R_{f,t} = \\alpha_i + \\beta_i (R_{m,t} - R_{f,t}) + \\epsilon_{i,t}$$\n\n\n## Conditional predictions\n\nWe can use the results of our regression to estimate what we should expect the value of the dependent variable to be, if we knew the value of the independent variable(s). Mathematically, this is given by:\n\n$$ E[y_t | x_t] = \\alpha + \\beta \\cdot x_t $$\n\n**Example**:\n\nUsing the results from the single-factor regression above, what is the expected excess return of TSLA if the market excess return is 2%? \n\n**Challenge**:\n\nUsing the results from the three-factor regression above, what is the expected excess return of TSLA if the market excess return is 2%, the SMB return -1% and the HML return is 0.5%? \n\n## Unconditional predictions\n\nWe can use the results of our regression to estimate what we should expect the value of the dependent variable to be, using our best guess for the value of the independent variable(s). Mathematically, this is given by:\n\n$$ E[y_t] = \\alpha + \\beta \\cdot E[x_t] $$\n\n**Example**:\n\nUsing the results from the regression above, what is the expected excess return of TSLA (i.e the risk premium on TSLA)? To answer this question, we must first estimate $E[R_m - R_f]$ (i.e. the market risk premium). We do so by taking an average of the excess returns on the market over a very long time (below we use the last 90 years). \n\n**Challenge**:\n\nEstimate the risk-premium of TSLA using the three-factor model, and risk-premia estimated using the last 90 years of data.\n\n## Variance decomposition\n\nThe regression results can allow us to decompose the total variance of the dependent variable into the portion that can be explained by the variance in the explanatory variables and the portion that can not be explained by these variables. Mathematically, the regression equation implies:\n\n$$ Var[Y] = \\beta^2 \\cdot Var[X] + Var[\\epsilon] $$\n\n**Example**:\n\nUsing the results from the regression above, calculate the total variance of TSLA, as well as its systematic variance and its idiosyncratic variance.\n\n**Challenge**:\n\nUsing the Fama-French three factor model, what percentage of TSLA total risk is diversifiable and what percentage is undiversifiable?\n\n# Interaction effects between explanatory variables\n\nIn some circumstances, we might want our linear regression model to allow the relation between two variables to depend on a third variable:\n\n$$ Y_t = \\alpha + (\\beta + \\gamma \\cdot Z_t) \\cdot X_t + \\delta \\cdot Z_t + \\epsilon_t $$\n\nNote that the effect of X on Y (i.e. $\\beta + \\gamma \\cdot Z_t$) depends on the value of a third variable ($Z_t$).\n\nThe regression above is often written (equivalently) as:\n\n\n$$ Y_t = \\alpha + \\beta  \\cdot X_t + \\gamma \\cdot Z_t \\cdot X_t + \\delta \\cdot Z_t + \\epsilon_t $$\n\nwhere the $Z_t \\cdot X_t$ term is called the **interaction** between the X and Z variables. This interaction term needs to be constructed in the data before we run our regression (by taking the product of X and Z). \n\n**Dummy variables** (or \"indicator\" variables) are variables that take only the values 0 or 1. They are often used in interaction terms (as the $Z$ variable above) to test if the relation between the main variables of interest (Y and X) is significantly different when some particular condition is satisfied (i.e. Z will equal 1 when the condition is satisfied and 0 when it is not).\n\n**Example**:\n\nUsing the same data as in the regressions above, test if: \n1. TSLA's alpha is significantly different before 2015 than after 2015. \n2. TSLA's beta is significantly different before 2015 than after 2015. \n\nIn this example, the $Z_t$ variable will have a value of 0 before 2015 and a value of 1 after 2015. So, before 2015, the equation above becomes \n\n$$ Y_t = \\alpha + \\beta  \\cdot X_t  + \\epsilon_t $$\n\nand after 2015, it becomes \n\n$$ Y_t = \\alpha + \\delta +  (\\beta + \\gamma) X_t +  \\epsilon_t $$\n\nHence, $\\delta$ tells us the difference between the firm's alpha after 2015 and its alpha before 2015. And $\\gamma$ tells us the difference between the firm's beta after 2015 and its beta before 2015.\n\n# Non-linear explanatory variables\n\nIn some circumstances we might want to test if there is a significant non-linear relationship between two variables of interest. For example, to test for a quadratic relation between Y and X, we can run the following regression:\n\n$$ Y_t = \\alpha + \\beta \\cdot X_t + \\gamma \\cdot X_t^2 + \\epsilon_t$$\n\nThe $X^2$ variable needs to be created ahead of time in the data, before we run the regression. \n\n**Example**:\n\nUsing the market model above, test if there is a significant quadratic relation between TSLA excess returns and market excess returns.\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":true,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"output-file":"lecture16_regression_intro2.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.361","theme":"zephyr","page-layout":"full","grid":{"sidebar-width":"400px"},"title":"L16: Linear regression applications"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}